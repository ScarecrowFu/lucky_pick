# 双色球智能预测系统

这是一个基于Django开发的双色球智能预测系统，通过多维度分析历史数据，提供智能预测和随机选号功能。

## 功能特性

- **数据采集**
  - 自动抓取最新开奖数据
  - 支持历史数据批量导入
  - 实时更新开奖信息
  - 支持测试数据生成

- **智能预测**
  - 多维度分析预测
    * 冷热号分析（权重20%）
    * 遗漏值分析（权重15%）
    * 号码间隔分析（权重15%）
    * 奇偶比例分析（权重10%）
    * 区间分布分析（权重10%）
  - 自适应权重调整
  - 支持多组号码同时预测
  - 预测结果可保存追踪

- **随机选号**
  - 提供随机选号功能
  - 支持多组号码生成
  - 选号结果可保存记录

- **数据分析**
  - 显示历史开奖记录
  - 预测号码命中统计
  - 中奖等级判定（一等奖到六等奖）
  - 详细的命中情况展示（红球+蓝球）

## 技术栈

- Python 3.8+
- Django 5.1
- Bootstrap 5
- SQLite/MySQL
- HTML5/CSS3
- JavaScript/Ajax
- NumPy

## 安装说明

1. **克隆项目**
```bash
git clone [项目地址]
cd luckyPick
```

2. **创建虚拟环境**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. **安装依赖**
```bash
pip install -r requirements.txt
```

4. **初始化数据库**
```bash
python manage.py migrate
```

5. **导入历史数据**
```bash
python manage.py lottery_scheduler --init
```

## 启动项目

1. **启动开发服务器**
```bash
python manage.py runserver
```

2. **访问系统**
打开浏览器访问 http://127.0.0.1:8000

## 管理命令

系统提供以下管理命令：

1. **初始化数据**
```bash
python manage.py lottery_scheduler --init
```
- 抓取所有历史开奖数据
- 初始化数据库

2. **测试模式**
```bash
python manage.py lottery_scheduler --test
```
- 生成测试开奖数据
- 触发预测分析
- 验证系统功能

3. **守护进程模式**
```bash
python manage.py lottery_scheduler --daemon
```
- 自动更新最新开奖数据
- 定期检查预测准确性
- 每10分钟检查一次

4. **更新数据**
```bash
python manage.py update_lottery
```
- 更新最新一期开奖数据
- 分析预测准确性

5. **批量导入**
```bash
python manage.py crawl_lottery --start-year 2023
```
- 按年份批量导入历史数据
- 支持指定时间范围

## 预测算法

系统采用多维度分析方法，包括：

1. **冷热号分析** (权重20%)
   - 热号：最近30期出现≥3次
   - 温号：最近30期出现1-2次
   - 冷号：最近30期未出现
   - 理想配比：2-3个热号 + 2-3个温号 + 1个冷号

2. **遗漏值分析** (权重15%)
   - 计算号码遗漏期数
   - 设置遗漏警戒值
   - 优化号码选择概率

3. **号码间隔分析** (权重15%)
   - 分析相邻号码间隔
   - 避免极端间隔
   - 保持号码均衡性

4. **奇偶比例分析** (权重10%)
   - 统计历史奇偶比
   - 避免极端比例
   - 优化号码组合

5. **区间分布分析** (权重10%)
   - 三区间划分
   - 避免号码集中
   - 保持分布均衡

6. **自适应权重**
   - 记录预测效果
   - 动态调整权重
   - 持续优化策略

## 项目结构

```
luckyPick/
├── luckyApp/                 # 主应用目录
│   ├── management/          # 管理命令
│   │   └── commands/       # 自定义命令
│   │       ├── lottery_scheduler.py  # 调度器
│   │       ├── update_lottery.py     # 更新命令
│   │       └── crawl_lottery.py      # 爬虫命令
│   ├── migrations/          # 数据库迁移
│   ├── templates/          # 模板文件
│   ├── models.py           # 数据模型
│   ├── views.py            # 视图函数
│   ├── urls.py             # URL配置
│   ├── crawler.py          # 数据爬虫
│   └── predictor.py        # 预测逻辑
├── luckyPick/              # 项目配置
├── static/                 # 静态文件
├── manage.py              # 管理脚本
└── requirements.txt       # 项目依赖
```

## 使用说明

1. **智能预测**
   - 点击"智能分析"进入预测页面
   - 系统会生成多组预测号码
   - 每组号码都经过多维度分析
   - 可以保存感兴趣的号码组合

2. **随机选号**
   - 点击"随机选号"生成随机号码
   - 支持多组号码同时生成
   - 可以保存选中的号码

3. **历史记录**
   - 查看历史开奖数据
   - 追踪预测号码的命中情况
   - 显示详细的中奖统计
   - 支持分页浏览

## 注意事项

- 系统预测结果仅供参考，不构成购彩建议
- 建议定期执行数据更新任务保持数据最新
- 请合理使用爬虫功能，避免频繁请求
- 建议在生产环境中使用更可靠的数据库（如MySQL）
- 预测算法会不断自我优化，初期效果可能不够理想

## 开发计划

- [ ] 优化自适应权重算法
- [ ] 添加机器学习预测模型
- [ ] 增加图表数据分析
- [ ] 支持自定义预测参数
- [ ] 添加数据导出功能
- [ ] 优化性能和响应速度

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。

## 许可证

MIT License 